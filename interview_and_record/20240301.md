### 多益网络服务端一面

50分钟的样子。一个项目贯穿整个面试流程，建议多看看自己认为做得最好的项目。

- 自我介绍

  讲自己的两段实习，讲自己的项目。

- 要求选择一个项目或实习经历介绍一下

  选择了网游加速器项目，细节不太记得了。

- 描述一下socks5协议（大概是这么一个意思）

  讲了一下socks5从认证到进入转发阶段的流程，讲了一下协议头的格式，指出在认证完成后，流量原封不动进行转发即可，不需要封装协议头。

- 如何确保你的加速器是安全的

  讲到了客户端和服务端双方约定使用同一个加密协议，只要不知道加密算法就不会知道密码是多少（这个应该是对称加密）。

- 如何确保其他人不会使用你的网游加速器不会用来做违法翻墙等行为

  只需要将服务器部署在大陆即可。

- 如何实现网游加速

  所谓加速指多人游戏的加速。曾经使用wireshark抓包调研，发现多人游戏时以udp为主，而单人游戏则以tcp为主。故我主要实现udp的流量转发，即可达到加速的效果。

- 你怎么确保经过转发可以达到加速的效果

  指出服务器选址的方法，后续会采用cdn加速的方式。

- 讲讲cdn

  不懂，乱讲，不要给自己挖坑。

- 假如有10个人在玩不同的游戏，有的流量大，有的流量小，如何负载均衡

  主要实现流量统计，指出socks5协议是可以对不同用户进行区分的，然后根据流量的多少来对线程进行调度，实现负载均衡。

- 有办法区分是什么游戏的流量吗

  很容易，通过他访问的域名或者ip就可以区分了。

- 平时用什么语言开发

  去年在公司实习时主要用的是python和cpp

- 有一道算法题，给10分钟做做

  力扣中等题：[179. 最大数 - 力扣（LeetCode）](https://leetcode.cn/problems/largest-number/description/)。主要考察贪心算法，勾股定理秒了。

- 继续，讲讲vector和list的区别

  在使用上，vector是可以随机访问的，它的迭代器是随机访问迭代器；而list是不能随机访问的，他的迭代器是单向的（忘记叫什么了，老式双向迭代器，c++17在迭代器上有所改动）。

  底层上，vector的底层实现是线性表（准确来说是顺序表），支持扩容；而list的底层实现是双向循环链表。这是gcc里的一个实现。

- 时间复杂度上有什么区别，各种操作上

  访问：vector是O(1)，list是O(n)

  插入：vector是O(n)（需要进行扩容搬运的操作），list是O(1)

  删除：和插入基本差不多

- 面向对象的三个特性是什么，分别解决了什么问题

  忘了，瞎编答得依托，答了封装、继承、抽象（讲道理抽象也是面向对象的一个特性）。答案是封装、继承、多态。

  多态：把不同的派生类对象当作基类对象看，屏蔽不同派生类之间的差异，写出通用的代码，但可以根据派生类的不同而表现出不同的行为。可以用来实现工厂模式。

  继承：可以扩展原有的代码，应用到其他程序中，而不必重新编写这些代码。

  封装：允许将一个类的内部实现细节隐藏起来，只暴露必要的接口给外部。

- 进程间通信方法

  管道通信、共享内存；套接字通信。

- 网游加速器是如何通信的

  使用了tcp套接字。

- cpp中指针和引用的区别

  指针在使用的时候需要解引用，而引用可直接当作对象使用。

  底层上来说，其实二者均是指针实现的。

- 指针不解引用的话，本身存的是什么

  对象所在的地址。

- 他们是否存在一级二级多级

  指针有多级指针，可以指针套指针。

  引用不存在多级引用，cpp有引用折叠这一特性（这部分是模板的内容，嘴瓢答混了），另外假如使用两个引用符号去初始化引用，则得到的是右值引用，使用一个引用符号则表示左值引用。

- 你的网游加速器使用了tcp和udp，二者有何区别

  主要的区别是tcp以字节流的形式传输，不具数据边界；udp传输数据报，具有数据边界。

- 最近有学什么新的技术点，具体介绍一个

  最近在研究websocket，我使用tcp实现了一个websocket的协议栈。与socks5最大的区别是二者在数据传输时，socks5不会对数据进行封装，而websocket会对数据做类似加头部的封装。项目使用了encoder-decoder的架构，使得用户获取数据时操作起来如同tcp，不需要用户关注太多协议上的细节。

- websocket的头部

  个人认为与http类似，实现了数据边界。而udp不需要，因为他本身的头部就带有长度。

- 有分工合作的经历吗

  在移动实习期间实现的基于springboot社区系统时是分工合作的。

  编的。

  前端接口调用不统一，导致项目进展停滞。表明自己遇到了困难。

- 遇到这种问题有什么解决方法

  写接口文档。

- 有什么想问的

- 公司的服务端框架是否使用了比如skynet的框架，或者说公司是自己开发了一套框架吗？

  底层的引擎是c++，用python写业务逻辑。不同游戏类型（FPS、SLG之类的）的底层引擎可能不一样。

- 公司在使用c++底层逻辑时是否会遇到开发效率低下的问题

  服务端开发，底层引擎是c++，实现后几乎不会动。python开发效率就高一点。

- 公司是否有新的手游项目

  有。



